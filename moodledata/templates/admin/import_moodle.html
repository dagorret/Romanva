{% extends "admin/base_site.html" %}
{% load i18n %}

{% block title %}Importar desde Moodle - {{ opts.verbose_name_plural }}{% endblock %}

{% block content %}
<div id="content-main">
  <h1>Importar datos desde Moodle</h1>
  
  <div class="module">
    <p>
      Esta acción importará datos directamente desde la base de datos de Moodle 
      y los guardará en la base de datos local. Los datos existentes en esta tabla 
      serán eliminados antes de la importación.
    </p>
    
    <form method="post" action="">
      {% csrf_token %}
      <input type="hidden" name="table_name" value="{{ opts.model_name }}">
      
      <fieldset class="module aligned">
        <div class="form-row">
          <div>
            <p><strong>Tabla a importar:</strong> {{ opts.verbose_name_plural }}</p>
            <p><strong>Modelo:</strong> {{ opts.object_name }}</p>
          </div>
        </div>
      </fieldset>
      
      <div class="submit-row">
        <input type="submit" value="Importar ahora" class="default" />
        <a href="../../" class="button cancel-link">Cancelar</a>
      </div>
    </form>
  </div>
  
  <div class="module">
    <h2>Tablas disponibles para importación</h2>
    <ul>
      {% for table in tables %}
        <li>{{ table }}</li>
      {% endfor %}
    </ul>
  </div>
</div>

<style>
  .cancel-link {
    padding: 10px 15px;
    margin-left: 10px;
    text-decoration: none;
  }
</style>
{% endblock %}
