{% extends "admin/index.html" %}
{% load static %}

{% block content %}
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 8px; margin-bottom: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    <h2 style="color: white; margin-top: 0; margin-bottom: 20px; font-size: 24px;">ğŸš€ Acciones RÃ¡pidas</h2>
    
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
        <form method="post" action="{% url 'admin:index' %}" onsubmit="return confirm('Â¿Exportar TODAS las tablas desde Moodle?\n\nEsto puede tardar varios minutos.');">
            {% csrf_token %}
            <input type="hidden" name="accion" value="export">
            <button type="submit" style="width: 100%; background-color: #28a745; color: white; padding: 20px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.2); transition: transform 0.2s; display: flex; align-items: center; justify-content: center; gap: 10px;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <span style="font-size: 24px;">ğŸ“¤</span>
                <span>Exportar desde Moodle</span>
            </button>
        </form>
        
        <form method="post" action="{% url 'admin:index' %}" onsubmit="return confirm('Â¿Importar TODAS las tablas a Django?\n\n' + (document.getElementById('clear_data').checked ? 'SE BORRARÃN los datos actuales.' : 'Se agregarÃ¡n a los datos existentes.'));">
            {% csrf_token %}
            <input type="hidden" name="accion" value="import">
            <input type="hidden" id="clear_value" name="clear" value="">
            <button type="submit" onclick="document.getElementById('clear_value').value = document.getElementById('clear_data').checked ? 'yes' : 'no';" style="width: 100%; background-color: #007bff; color: white; padding: 20px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.2); transition: transform 0.2s; display: flex; align-items: center; justify-content: center; gap: 10px;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                <span style="font-size: 24px;">ğŸ“¥</span>
                <span>Importar a Django</span>
            </button>
        </form>
    </div>
    
    <div style="padding: 15px; background-color: rgba(255,255,255,0.1); border-radius: 4px; color: white;">
        <label style="display: flex; align-items: center; cursor: pointer; margin-bottom: 10px;">
            <input type="checkbox" id="clear_data" style="margin-right: 10px; width: 20px; height: 20px;">
            <span>ğŸ—‘ï¸ Limpiar datos existentes antes de importar</span>
        </label>
        <p style="margin: 0; font-size: 14px;">
            <strong>ğŸ“¤ Exportar:</strong> Extrae datos desde Moodle MySQL â†’ archivos NDJSON<br>
            <strong>ğŸ“¥ Importar:</strong> Carga archivos NDJSON â†’ base de datos Django
        </p>
    </div>
</div>

{{ block.super }}
{% endblock %}
