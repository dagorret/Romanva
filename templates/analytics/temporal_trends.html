{% extends "base.html" %}

{% block title %}Tendencias Temporales{% endblock %}

{% block content %}
<div class="card">
    <div style="margin-bottom: 20px;">
        <a href="{% url 'analytics_menu' %}" class="btn">‚Üê Volver al men√∫</a>
    </div>

    <h2 style="margin-top: 0;">üìâ Tendencias Temporales</h2>
    <p class="muted">Evoluci√≥n de accesos por semana (√∫ltimas 12 semanas)</p>

    {% if weekly_data %}
    <table>
        <thead>
            <tr>
                <th>Per√≠odo</th>
                <th>Fecha inicio</th>
                <th>Accesos</th>
                <th>Tendencia</th>
            </tr>
        </thead>
        <tbody>
            {% for week in weekly_data %}
            <tr>
                <td><strong>{{ week.week }}</strong></td>
                <td>{{ week.date }}</td>
                <td>{{ week.count }}</td>
                <td>
                    <div style="background: #6366f1; height: 24px; width: {{ week.count|add:0 }}px; max-width: 300px; border-radius: 4px;"></div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div style="margin-top: 30px; padding: 20px; background: #f0fdf4; border-radius: 12px;">
        <h3 style="margin-top: 0; color: #15803d;">An√°lisis de Tendencias</h3>
        <ul style="line-height: 1.8;">
            <li>Identifica patrones semanales de uso de la plataforma</li>
            <li>Detecta tendencias crecientes o decrecientes a lo largo del tiempo</li>
            <li>Permite anticipar per√≠odos de mayor o menor actividad</li>
            <li>√ötil para planificaci√≥n de recursos y soporte t√©cnico</li>
        </ul>
    </div>
    {% else %}
    <p class="muted">No hay suficientes datos para mostrar tendencias.</p>
    {% endif %}
</div>
{% endblock %}
