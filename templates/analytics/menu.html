{% extends "base.html" %}

{% block title %}EstadÃ­sticas â€“ Romanova{% endblock %}

{% block content %}
<div class="card">
    <h2 style="margin-top: 0;">ðŸ“Š AnÃ¡lisis EstadÃ­sticos</h2>
    <p class="muted">Selecciona el tipo de anÃ¡lisis que deseas realizar</p>

    <!-- AnÃ¡lisis BÃ¡sicos -->
    <h3 style="margin-top: 30px; margin-bottom: 15px; color: #0d6efd;">AnÃ¡lisis BÃ¡sicos</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px;">
        {% for option in stats_options %}
        {% if option.category == 'basic' %}
        <a href="{% url option.url %}" style="text-decoration: none; color: inherit;">
            <div style="background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 12px; padding: 20px; transition: all 0.2s; cursor: pointer;"
                 onmouseover="this.style.borderColor='#0d6efd'; this.style.background='#f0f7ff';"
                 onmouseout="this.style.borderColor='#e5e7eb'; this.style.background='#f9fafb';">
                <div style="font-size: 32px; margin-bottom: 10px;">{{ option.icon }}</div>
                <h3 style="margin: 0 0 8px 0; font-size: 18px; color: #111827;">{{ option.name }}</h3>
                <p style="margin: 0; color: #6b7280; font-size: 14px;">{{ option.description }}</p>
            </div>
        </a>
        {% endif %}
        {% endfor %}
    </div>

    <!-- AnÃ¡lisis Avanzados -->
    <h3 style="margin-top: 30px; margin-bottom: 15px; color: #dc3545;">ðŸ”¬ EstadÃ­sticas Avanzadas (Machine Learning & Big Data)</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
        {% for option in stats_options %}
        {% if option.category == 'advanced' %}
        <a href="{% url option.url %}" style="text-decoration: none; color: inherit;">
            <div style="background: #fff5f5; border: 2px solid #fee; border-radius: 12px; padding: 20px; transition: all 0.2s; cursor: pointer;"
                 onmouseover="this.style.borderColor='#dc3545'; this.style.background='#ffe5e5';"
                 onmouseout="this.style.borderColor='#fee'; this.style.background='#fff5f5';">
                <div style="font-size: 32px; margin-bottom: 10px;">{{ option.icon }}</div>
                <h3 style="margin: 0 0 8px 0; font-size: 18px; color: #111827;">{{ option.name }}</h3>
                <p style="margin: 0; color: #6b7280; font-size: 14px;">{{ option.description }}</p>
            </div>
        </a>
        {% endif %}
        {% endfor %}
    </div>
</div>

<div class="card">
    <h3 style="margin-top: 0;">Resumen General del Sistema</h3>

    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;">
        <div style="background: #f0f9ff; padding: 16px; border-radius: 10px; text-align: center;">
            <div style="font-size: 28px; font-weight: 700; color: #0369a1;">{{ total_courses|default:"0" }}</div>
            <div style="font-size: 13px; color: #6b7280; margin-top: 4px;">Cursos activos</div>
        </div>

        <div style="background: #f0fdf4; padding: 16px; border-radius: 10px; text-align: center;">
            <div style="font-size: 28px; font-weight: 700; color: #15803d;">{{ total_users|default:"0" }}</div>
            <div style="font-size: 13px; color: #6b7280; margin-top: 4px;">Usuarios</div>
        </div>

        <div style="background: #fef3c7; padding: 16px; border-radius: 10px; text-align: center;">
            <div style="font-size: 28px; font-weight: 700; color: #ca8a04;">{{ total_groups|default:"0" }}</div>
            <div style="font-size: 13px; color: #6b7280; margin-top: 4px;">Grupos</div>
        </div>

        <div style="background: #fce7f3; padding: 16px; border-radius: 10px; text-align: center;">
            <div style="font-size: 28px; font-weight: 700; color: #be123c;">{{ total_accesses|default:"0" }}</div>
            <div style="font-size: 13px; color: #6b7280; margin-top: 4px;">Accesos registrados</div>
        </div>
    </div>
</div>
{% endblock %}
